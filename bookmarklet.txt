javascript:(function()%7Bfunction%20clipCoupons(data)%20%7Bfunction%20clipCoupon(coupon)%20%7Breturn%20%24.ajax(%7Burl%3A%20'%2Fp%2Fnp%2F4230%2FKroger%2Fcoupon%2Fclip'%2Ctype%3A%20'GET'%2Cdata%3A%20%7Bid%3A%20coupon.coupon_id%2Cclipsource%3A%20'KWL'%2Csignature%3A%20coupon.signature%7D%2CcontentType%3A%20'application%2Fjson'%2Csuccess%3A%20function%20(s)%20%7Bconsole.log(s)%3B%7D%2Cerror%3A%20function%20(e)%20%7Bconsole.log(e)%3B%7D%7D)%3B%7Dfunction%20getCouponMap(data)%20%7Bvar%20couponMap%20%3D%20%7B%7D%3B%24.each(data.coupons%2C%20function(i%2C%20val)%20%7BcouponMap%5Bval.coupon_id%5D%20%3D%20val%3B%7D)%3B%24.each(data.clipped_coupons%2C%20function%20(i%2C%20val)%20%7Bdelete%20couponMap%5Bval%5D%3B%7D)%3Breturn%20couponMap%3B%7Dfunction%20forEachRelavantCoupon(data%2C%20couponMap%2C%20fn)%20%7Bvar%20deffereds%20%3D%20%5B%5D%3B%24.each(data.sort_order.Relevance%2C%20function(i%2C%20val)%20%7Bif(couponMap%5Bval%5D)%20%7Bdeffereds.push(fn(couponMap%5Bval%5D))%3B%7D%7D)%3Breturn%20deffereds%3B%7Dvar%20couponMap%20%3D%20getCouponMap(data)%3Bvar%20deffereds%20%3D%20forEachRelavantCoupon(data%2C%20couponMap%2C%20clipCoupon)%3B%24.when.apply(null%2C%20deffereds).done(function()%20%7Balert(%22Clipping%20Coupons%20Done.%22)%3B%7D)%3B%7D%24.ajax(%7Burl%3A%20'%2Fp%2Fnp%2F4230%2FKroger%2Fcoupons'%2Ctype%3A%20'GET'%2Cdata%3A%20%7Bbanner%3A%20'Frys'%2Cusource%3A%20'KWL'%7D%2CcontentType%3A%20'application%2Fjson'%2Csuccess%3A%20function%20(data)%20%7BclipCoupons(data)%3B%7D%2Cerror%3A%20function(e)%20%7Bconsole.log(e)%3B%7D%7D)%7D)()

